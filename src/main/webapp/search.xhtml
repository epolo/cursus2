<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:jsf="http://xmlns.jcp.org/jsf">

	<ui:composition template="/WEB-INF/templates/main2.xhtml">

		<ui:define name="metadata">
			<f:metadata>
				<f:viewParam name="value" value="#{search.value}"/>
				<f:viewAction action="#{search.search()}"/> 
			</f:metadata>
		</ui:define>
		
		<ui:define name="content">

				<div class="col-sm-8 col-xs-12">
					<article id="single-article" class="single-article white-box roboto">
						<div class="content-inner-side">
							
							<h:form>
								<div>
									<h:inputText value="#{search.value}"/>
									<h:commandButton value="Искать" action="#{search.search}"/>
								</div>
							</h:form>

							<h4>Результаты поиска 
								<i><u> #{search.value} </u></i>
							</h4>
							
							<p>
								<ui:remove>
								<h:outputFormat value="Найдено {0} страниц" rendered="#{not empty search.resList}">
									<f:param value="#{search.resList.size}"/>
								</h:outputFormat>
								</ui:remove>
								<h:outputText value="Ничего не найдено" rendered="#{empty search.resList}"/>
							</p>
							
							<h:panelGroup layout="block" rendered="#{not empty search.resList}">
							
							<ul>
								<ui:repeat value="#{search.resList}" var="p">
									<li><h:link outcome="#{p.url}" value="#{p.title}" styleClass="#{p.type}"/></li>
								</ui:repeat>
							</ul>

							</h:panelGroup>
						</div>
					</article>
				</div>

		</ui:define>
		
	</ui:composition>

</html>

